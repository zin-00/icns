import{A as U}from"./AuthenticatedLayout-DECX0Ce0.js";import{c as l,o as n,a as t,r as S,d as B,w as P,g as c,h,m as V,e as g,l as k,t as d,n as z,F as b,j as m,P as f}from"./app-gxwVrRFQ.js";import{_ as A}from"./_plugin-vue_export-helper-DuDBgjXp.js";import{r as N}from"./CalendarIcon-CYjtdhcZ.js";import"./logo-C5fiQHXv.js";/* empty css            */function Q(s,i){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})])}function y(s,i){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function E(s,i){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function O(s,i){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function Z(s,i){return n(),l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"})])}const H={class:"py-6 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto"},G={class:"mb-6"},W={class:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4"},X={class:"flex-1"},I={class:"flex items-center gap-3 mb-2"},Y={class:"text-3xl font-bold text-green-900"},J={class:"text-gray-600"},K={class:"flex flex-wrap items-center gap-4 mt-4 text-sm text-gray-500"},tt={class:"flex items-center gap-2"},et={key:0,class:"flex items-center gap-2"},ot={class:"flex gap-2 flex-shrink-0"},rt=["disabled"],st=["disabled"],dt={key:0,class:"space-y-6"},nt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},at={class:"bg-white rounded-xl shadow-sm border border-green-200 p-6"},lt={class:"flex items-center justify-between mb-2"},it={class:"text-3xl font-bold text-green-900"},ct={class:"bg-white rounded-xl shadow-sm border border-green-200 p-6"},ht={class:"flex items-center justify-between mb-2"},gt={class:"text-3xl font-bold text-green-900"},ut={class:"bg-white rounded-xl shadow-sm border border-green-200 p-6"},bt={class:"flex items-center justify-between mb-2"},mt={class:"text-3xl font-bold text-green-900"},pt={class:"bg-white rounded-xl shadow-sm border border-green-200 p-6"},xt={class:"flex items-center justify-between mb-2"},ft={class:"text-3xl font-bold text-green-900"},yt={class:"bg-white rounded-xl shadow-sm border border-green-200 overflow-hidden"},wt={class:"overflow-x-auto"},_t={class:"w-full"},vt={class:"divide-y divide-green-100"},kt={class:"px-6 py-4 whitespace-nowrap"},$t={class:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-green-100 text-sm font-semibold text-green-900"},St={class:"px-6 py-4"},Ct={class:"text-sm font-medium text-gray-900"},Lt={class:"px-6 py-4 whitespace-nowrap"},jt={class:"text-sm text-gray-700"},Dt={class:"px-6 py-4"},Rt={class:"flex items-center gap-3"},Tt={class:"flex-1 bg-green-100 rounded-full h-2 max-w-xs"},Ft={class:"text-sm font-medium text-gray-700 min-w-[3rem] text-right"},Mt={key:0},qt={key:0,class:"bg-white rounded-xl shadow-sm border border-green-200 overflow-hidden"},Ut={class:"p-6"},Bt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Pt={class:"flex items-center justify-between mb-2"},Vt={class:"text-sm font-medium text-green-900 capitalize"},zt={class:"text-2xl font-bold text-green-900"},At={class:"bg-green-100 rounded-full h-2"},Nt={key:1,class:"space-y-6"},Qt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Et={class:"bg-white rounded-xl shadow-sm border border-green-200 p-6"},Ot={class:"text-3xl font-bold text-green-900"},Zt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ht={class:"bg-white rounded-xl shadow-sm border border-green-200 overflow-hidden"},Gt={class:"p-6 space-y-3"},Wt={class:"text-sm text-gray-700"},Xt={class:"flex items-center gap-3"},It={class:"bg-green-100 rounded-full h-2 w-32"},Yt={class:"text-sm font-semibold text-green-900 min-w-[2rem] text-right"},Jt={key:0,class:"bg-white rounded-xl shadow-sm border border-green-200 overflow-hidden"},Kt={class:"p-6 space-y-3"},te={class:"text-sm text-gray-700 capitalize"},ee={class:"flex items-center gap-3"},oe={class:"bg-green-100 rounded-full h-2 w-32"},re={class:"text-sm font-semibold text-green-900 min-w-[2rem] text-right"},se={key:2,class:"space-y-6"},de={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ne={class:"bg-white rounded-xl shadow-sm border border-green-200 p-6"},ae={class:"text-3xl font-bold text-green-900"},le={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ie={class:"bg-white rounded-xl shadow-sm border border-green-200 overflow-hidden"},ce={class:"p-6 space-y-3"},he={class:"text-sm text-gray-700"},ge={class:"flex items-center gap-3"},ue={class:"bg-green-100 rounded-full h-2 w-32"},be={class:"text-sm font-semibold text-green-900 min-w-[2rem] text-right"},me={key:0,class:"bg-white rounded-xl shadow-sm border border-green-200 overflow-hidden"},pe={class:"p-6 space-y-3"},xe={class:"text-sm text-gray-700"},fe={class:"flex items-center gap-3"},ye={class:"bg-green-100 rounded-full h-2 w-32"},we={class:"text-sm font-semibold text-green-900 min-w-[2rem] text-right"},_e={key:3,class:"space-y-6"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ke={class:"bg-white rounded-xl shadow-sm border border-green-200 p-6"},$e={class:"text-3xl font-bold text-green-900"},Se={class:"bg-white rounded-xl shadow-sm border border-green-200 p-6"},Ce={class:"text-3xl font-bold text-green-900"},Le={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},je={class:"bg-white rounded-xl shadow-sm border border-green-200 overflow-hidden"},De={class:"p-6 space-y-3"},Re={class:"flex items-center justify-center w-6 h-6 rounded-full bg-green-100 text-xs font-semibold text-green-900"},Te={class:"flex-1 text-sm text-gray-700"},Fe={class:"text-sm font-semibold text-green-900"},Me={key:0,class:"bg-white rounded-xl shadow-sm border border-green-200 overflow-hidden"},qe={class:"p-6 space-y-3"},Ue={class:"flex-1 text-sm text-gray-700"},Be={class:"text-sm font-semibold text-green-900"},Pe={__name:"ReportDetail",props:{report:{type:Object,required:!0}},setup(s){const i=s,p=S(!1);S("overview");const w=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",_=o=>o?new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",C=()=>{p.value=!0,setTimeout(()=>{window.print(),p.value=!1},100)},L=async()=>{p.value=!0;try{const o=$();if(!window.htmlDocx){const u=document.createElement("script");u.src="https://cdn.jsdelivr.net/npm/html-docx-js@0.3.1/dist/html-docx.min.js",await new Promise((v,q)=>{u.onload=v,u.onerror=q,document.head.appendChild(u)})}const e=window.htmlDocx.asBlob(o),r=document.createElement("a"),a=window.URL.createObjectURL(e);r.href=a,r.download=`${i.report.title.replace(/\s+/g,"-")}-${Date.now()}.docx`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)}catch(o){console.error("Export error:",o),alert(`Failed to export document: ${o.message}

Trying alternative method...`),j()}finally{p.value=!1}},j=()=>{try{const o=$(),e=new Blob([o],{type:"application/msword;charset=utf-8"}),r=document.createElement("a"),a=window.URL.createObjectURL(e);r.href=a,r.download=`${i.report.title.replace(/\s+/g,"-")}-${Date.now()}.doc`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)}catch(o){console.error("Fallback export error:",o),alert("Failed to export document. Please use the Print PDF option instead.")}},$=()=>{const o=i.report.data;let e=`
    <!DOCTYPE html>
    <html xmlns:o='urn:schemas-microsoft-com:office:office' xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>${i.report.title}</title>
        <!--[if gte mso 9]>
        <xml>
            <w:WordDocument>
                <w:View>Print</w:View>
                <w:Zoom>100</w:Zoom>
                <w:DoNotOptimizeForBrowser/>
            </w:WordDocument>
        </xml>
        <![endif]-->
        <style>
            @page {
                size: A4;
                margin: 2cm;
            }
            body {
                font-family: Calibri, Arial, sans-serif;
                line-height: 1.5;
                color: #000000;
                background-color: #ffffff;
                padding: 20px;
                max-width: 210mm;
                margin: 0 auto;
                font-size: 11pt;
            }
            .header {
                text-align: center;
                margin-bottom: 20px;
                padding-bottom: 15px;
                border-bottom: 2px solid #000000;
            }
            .header h1 {
                color: #000000;
                margin: 0 0 5px 0;
                font-size: 18pt;
                font-weight: bold;
            }
            .header .subtitle {
                color: #333333;
                font-size: 11pt;
                margin: 0;
            }
            h2 {
                color: #000000;
                margin-top: 20px;
                margin-bottom: 10px;
                font-size: 13pt;
                font-weight: bold;
            }
            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
                margin-top: 10px;
                font-size: 10pt;
                background-color: #ffffff;
            }
            th {
                background-color: #f5f5f5;
                padding: 8px 10px;
                text-align: left;
                font-weight: bold;
                color: #000000;
                font-size: 10pt;
                border: 1px solid #d0d0d0;
            }
            td {
                padding: 6px 10px;
                color: #000000;
                font-size: 10pt;
                line-height: 1.4;
                border: 1px solid #d0d0d0;
            }
            tr:nth-child(even) {
                background-color: #fafafa;
            }
            .info-label {
                font-weight: bold;
                width: 30%;
            }
        </style>
    </head>
    <body>
        <div class="header">
            <h1>ASSCAT Campus Navigator</h1>
            <p class="subtitle">Report Document</p>
        </div>

        <h2>${i.report.title}</h2>

        <table>
            <tr>
                <td class="info-label">Description</td>
                <td>${i.report.description}</td>
            </tr>
            <tr>
                <td class="info-label">Report Type</td>
                <td>${i.report.type.toUpperCase()}</td>
            </tr>
            ${i.report.period_from?`
            <tr>
                <td class="info-label">Period From</td>
                <td>${w(i.report.period_from)}</td>
            </tr>
            <tr>
                <td class="info-label">Period To</td>
                <td>${w(i.report.period_to)}</td>
            </tr>`:""}
            <tr>
                <td class="info-label">Generated Date</td>
                <td>${w(i.report.created_at)}</td>
            </tr>
        </table>
    `;return i.report.type==="usage"?e+=D(o):i.report.type==="feedback"?e+=R(o):i.report.type==="facility"?e+=T(o):i.report.type==="search"&&(e+=F(o)),e+="</body></html>",e},D=o=>{const e=o.unique_searchers>0?(o.total_searches/o.unique_searchers).toFixed(1):0,r=o.top_searches?.[0]?.count||0;return`
    <h2>Usage Statistics Summary</h2>
    <table>
        <thead>
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Total Searches</td>
                <td>${o.total_searches?.toLocaleString()||0}</td>
            </tr>
            <tr>
                <td>Unique Searchers</td>
                <td>${o.unique_searchers?.toLocaleString()||0}</td>
            </tr>
            <tr>
                <td>Average Searches per User</td>
                <td>${e}</td>
            </tr>
            <tr>
                <td>Top Query Count</td>
                <td>${r.toLocaleString()}</td>
            </tr>
        </tbody>
    </table>

    <h2>Top Search Queries</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 10%;">Rank</th>
                <th style="width: 50%;">Query</th>
                <th style="width: 20%;">Count</th>
                <th style="width: 20%;">Percentage</th>
            </tr>
        </thead>
        <tbody>
            ${o.top_searches?.map((a,u)=>{const v=o.total_searches>0?Math.round(a.count/o.total_searches*100):0;return`
                <tr>
                    <td>${u+1}</td>
                    <td>${a.query}</td>
                    <td>${a.count.toLocaleString()}</td>
                    <td>${v}%</td>
                </tr>`}).join("")||'<tr><td colspan="4" style="text-align: center;">No data available</td></tr>'}
        </tbody>
    </table>

    ${o.guest_roles?.length?`
    <h2>User Roles Distribution</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 60%;">Role</th>
                <th style="width: 20%;">Count</th>
                <th style="width: 20%;">Percentage</th>
            </tr>
        </thead>
        <tbody>
            ${o.guest_roles.map(a=>{const u=o.total_searches>0?Math.round(a.count/o.total_searches*100):0;return`
                <tr>
                    <td style="text-transform: capitalize;">${a.role}</td>
                    <td>${a.count.toLocaleString()}</td>
                    <td>${u}%</td>
                </tr>`}).join("")}
        </tbody>
    </table>`:""}
`},R=o=>`
    <h2>Feedback Statistics Summary</h2>
    <table>
        <thead>
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Total Feedback</td>
                <td>${o.total_feedback?.toLocaleString()||0}</td>
            </tr>
        </tbody>
    </table>

    <h2>Feedback by Location</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 60%;">Location</th>
                <th style="width: 20%;">Count</th>
                <th style="width: 20%;">Percentage</th>
            </tr>
        </thead>
        <tbody>
            ${o.feedback_by_location?.map(e=>{const r=o.total_feedback>0?Math.round(e.count/o.total_feedback*100):0;return`
                <tr>
                    <td>${e.location}</td>
                    <td>${e.count.toLocaleString()}</td>
                    <td>${r}%</td>
                </tr>`}).join("")||'<tr><td colspan="3" style="text-align: center;">No data available</td></tr>'}
        </tbody>
    </table>

    ${o.feedback_by_role?.length?`
    <h2>Feedback by Role</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 60%;">Role</th>
                <th style="width: 20%;">Count</th>
                <th style="width: 20%;">Percentage</th>
            </tr>
        </thead>
        <tbody>
            ${o.feedback_by_role.map(e=>{const r=o.total_feedback>0?Math.round(e.count/o.total_feedback*100):0;return`
                <tr>
                    <td style="text-transform: capitalize;">${e.role}</td>
                    <td>${e.count.toLocaleString()}</td>
                    <td>${r}%</td>
                </tr>`}).join("")}
        </tbody>
    </table>`:""}
`,T=o=>`
    <h2>Facility Statistics Summary</h2>
    <table>
        <thead>
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Total Facilities</td>
                <td>${o.total_facilities?.toLocaleString()||0}</td>
            </tr>
        </tbody>
    </table>

    <h2>Facilities by Category</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 60%;">Category</th>
                <th style="width: 20%;">Count</th>
                <th style="width: 20%;">Percentage</th>
            </tr>
        </thead>
        <tbody>
            ${o.facilities_by_category?.map(e=>{const r=o.total_facilities>0?Math.round(e.count/o.total_facilities*100):0;return`
                <tr>
                    <td>${e.category}</td>
                    <td>${e.count.toLocaleString()}</td>
                    <td>${r}%</td>
                </tr>`}).join("")||'<tr><td colspan="3" style="text-align: center;">No data available</td></tr>'}
        </tbody>
    </table>

    ${o.facilities_by_department?.length?`
    <h2>Facilities by Department</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 60%;">Department</th>
                <th style="width: 20%;">Count</th>
                <th style="width: 20%;">Percentage</th>
            </tr>
        </thead>
        <tbody>
            ${o.facilities_by_department.map(e=>{const r=o.total_facilities>0?Math.round(e.count/o.total_facilities*100):0;return`
                <tr>
                    <td>${e.department}</td>
                    <td>${e.count.toLocaleString()}</td>
                    <td>${r}%</td>
                </tr>`}).join("")}
        </tbody>
    </table>`:""}
`,F=o=>`
    <h2>Search Statistics Summary</h2>
    <table>
        <thead>
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Total Searches</td>
                <td>${o.total_searches?.toLocaleString()||0}</td>
            </tr>
            <tr>
                <td>Unique Queries</td>
                <td>${o.unique_queries?.toLocaleString()||0}</td>
            </tr>
        </tbody>
    </table>

    <h2>Top 10 Searches</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 10%;">Rank</th>
                <th style="width: 70%;">Query</th>
                <th style="width: 20%;">Count</th>
            </tr>
        </thead>
        <tbody>
            ${o.top_10_searches?.map((e,r)=>`
                <tr>
                    <td>${r+1}</td>
                    <td>${e.query}</td>
                    <td>${e.search_count.toLocaleString()}</td>
                </tr>
            `).join("")||'<tr><td colspan="3" style="text-align: center;">No data available</td></tr>'}
        </tbody>
    </table>

    ${o.bottom_10_searches?.length?`
    <h2>Bottom 10 Searches</h2>
    <table>
        <thead>
            <tr>
                <th style="width: 80%;">Query</th>
                <th style="width: 20%;">Count</th>
            </tr>
        </thead>
        <tbody>
            ${o.bottom_10_searches.map(e=>`
                <tr>
                    <td>${e.query}</td>
                    <td>${e.search_count.toLocaleString()}</td>
                </tr>
            `).join("")}
        </tbody>
    </table>`:""}
`,M=o=>({usage:"bg-green-50 text-green-900",feedback:"bg-green-50 text-green-900",facility:"bg-green-50 text-green-900",search:"bg-green-50 text-green-900"})[o]||"bg-green-50 text-green-900",x=(o,e)=>e>0?Math.round(o/e*100):0;return(o,e)=>(n(),B(U,null,{default:P(()=>[t("div",H,[t("div",G,[t("button",{onClick:e[0]||(e[0]=r=>h(V).back()),class:"flex items-center gap-2 text-sm text-gray-600 hover:text-green-900 mb-4 transition"},[g(h(Q),{class:"h-4 w-4"}),e[1]||(e[1]=k(" Back to Reports ",-1))]),t("div",W,[t("div",X,[t("div",I,[t("h1",Y,d(s.report.title),1),t("span",{class:z(["px-3 py-1 rounded-full text-xs font-semibold uppercase",M(s.report.type)])},d(s.report.type),3)]),t("p",J,d(s.report.description),1),t("div",K,[t("div",tt,[g(h(N),{class:"h-4 w-4"}),t("span",null,"Generated "+d(_(s.report.created_at)),1)]),s.report.period_from?(n(),l("div",et,[g(h(E),{class:"h-4 w-4"}),t("span",null,d(_(s.report.period_from))+" - "+d(_(s.report.period_to)),1)])):c("",!0)])]),t("div",ot,[t("button",{onClick:C,disabled:p.value,class:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-green-900 bg-white border border-green-300 hover:bg-green-50 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"},[g(h(Z),{class:"h-4 w-4"}),e[2]||(e[2]=k(" Print PDF ",-1))],8,rt),t("button",{onClick:L,disabled:p.value,class:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-white bg-green-900 hover:bg-green-800 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"},[g(h(O),{class:"h-4 w-4"}),k(" "+d(p.value?"Exporting...":"Export DOCX"),1)],8,st)])])]),s.report.type==="usage"?(n(),l("div",dt,[t("div",nt,[t("div",at,[t("div",lt,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-green-700"},"Total Searches",-1)),g(h(y),{class:"h-5 w-5 text-green-900"})]),t("p",it,d(s.report.data.total_searches?.toLocaleString()||0),1)]),t("div",ct,[t("div",ht,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-green-700"},"Unique Searchers",-1)),g(h(y),{class:"h-5 w-5 text-green-900"})]),t("p",gt,d(s.report.data.unique_searchers?.toLocaleString()||0),1)]),t("div",ut,[t("div",bt,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-green-700"},"Avg. Searches/User",-1)),g(h(y),{class:"h-5 w-5 text-green-900"})]),t("p",mt,d(s.report.data.unique_searchers>0?(s.report.data.total_searches/s.report.data.unique_searchers).toFixed(1):0),1)]),t("div",pt,[t("div",xt,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-green-700"},"Top Query Count",-1)),g(h(y),{class:"h-5 w-5 text-green-900"})]),t("p",ft,d(s.report.data.top_searches?.[0]?.count?.toLocaleString()||0),1)])]),t("div",yt,[e[9]||(e[9]=t("div",{class:"px-6 py-4 border-b border-green-200 bg-green-50"},[t("h3",{class:"text-lg font-semibold text-green-900"},"Top Search Queries"),t("p",{class:"text-sm text-green-700 mt-1"},"Most frequently searched terms")],-1)),t("div",wt,[t("table",_t,[e[8]||(e[8]=t("thead",{class:"bg-green-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-green-900 uppercase tracking-wider"},"Rank"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-green-900 uppercase tracking-wider"},"Query"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-green-900 uppercase tracking-wider"},"Count"),t("th",{class:"px-6 py-3 text-left text-xs font-semibold text-green-900 uppercase tracking-wider"},"Percentage")])],-1)),t("tbody",vt,[(n(!0),l(b,null,m(s.report.data.top_searches,(r,a)=>(n(),l("tr",{key:a,class:"hover:bg-green-50 transition"},[t("td",kt,[t("span",$t,d(a+1),1)]),t("td",St,[t("span",Ct,d(r.query),1)]),t("td",Lt,[t("span",jt,d(r.count.toLocaleString()),1)]),t("td",Dt,[t("div",Rt,[t("div",Tt,[t("div",{class:"bg-green-900 h-2 rounded-full transition-all",style:f({width:`${x(r.count,s.report.data.total_searches)}%`})},null,4)]),t("span",Ft,d(x(r.count,s.report.data.total_searches))+"% ",1)])])]))),128)),s.report.data.top_searches?.length?c("",!0):(n(),l("tr",Mt,[...e[7]||(e[7]=[t("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-500"}," No search data available ",-1)])]))])])])]),s.report.data.guest_roles?.length?(n(),l("div",qt,[e[10]||(e[10]=t("div",{class:"px-6 py-4 border-b border-green-200 bg-green-50"},[t("h3",{class:"text-lg font-semibold text-green-900"},"User Roles Distribution"),t("p",{class:"text-sm text-green-700 mt-1"},"Breakdown of searches by user role")],-1)),t("div",Ut,[t("div",Bt,[(n(!0),l(b,null,m(s.report.data.guest_roles,(r,a)=>(n(),l("div",{key:a,class:"bg-green-50 rounded-lg p-4 border border-green-200"},[t("div",Pt,[t("span",Vt,d(r.role),1),t("span",zt,d(r.count),1)]),t("div",At,[t("div",{class:"bg-green-900 h-2 rounded-full",style:f({width:`${x(r.count,s.report.data.total_searches)}%`})},null,4)])]))),128))])])])):c("",!0)])):c("",!0),s.report.type==="feedback"?(n(),l("div",Nt,[t("div",Qt,[t("div",Et,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-green-700 mb-2"},"Total Feedback",-1)),t("p",Ot,d(s.report.data.total_feedback?.toLocaleString()||0),1)])]),t("div",Zt,[t("div",Ht,[e[12]||(e[12]=t("div",{class:"px-6 py-4 border-b border-green-200 bg-green-50"},[t("h3",{class:"text-lg font-semibold text-green-900"},"By Location")],-1)),t("div",Gt,[(n(!0),l(b,null,m(s.report.data.feedback_by_location,(r,a)=>(n(),l("div",{key:a,class:"flex items-center justify-between"},[t("span",Wt,d(r.location),1),t("div",Xt,[t("div",It,[t("div",{class:"bg-green-900 h-2 rounded-full",style:f({width:`${x(r.count,s.report.data.total_feedback)}%`})},null,4)]),t("span",Yt,d(r.count),1)])]))),128))])]),s.report.data.feedback_by_role?.length?(n(),l("div",Jt,[e[13]||(e[13]=t("div",{class:"px-6 py-4 border-b border-green-200 bg-green-50"},[t("h3",{class:"text-lg font-semibold text-green-900"},"By Role")],-1)),t("div",Kt,[(n(!0),l(b,null,m(s.report.data.feedback_by_role,(r,a)=>(n(),l("div",{key:a,class:"flex items-center justify-between"},[t("span",te,d(r.role),1),t("div",ee,[t("div",oe,[t("div",{class:"bg-green-900 h-2 rounded-full",style:f({width:`${x(r.count,s.report.data.total_feedback)}%`})},null,4)]),t("span",re,d(r.count),1)])]))),128))])])):c("",!0)])])):c("",!0),s.report.type==="facility"?(n(),l("div",se,[t("div",de,[t("div",ne,[e[14]||(e[14]=t("p",{class:"text-sm font-medium text-green-700 mb-2"},"Total Facilities",-1)),t("p",ae,d(s.report.data.total_facilities?.toLocaleString()||0),1)])]),t("div",le,[t("div",ie,[e[15]||(e[15]=t("div",{class:"px-6 py-4 border-b border-green-200 bg-green-50"},[t("h3",{class:"text-lg font-semibold text-green-900"},"By Category")],-1)),t("div",ce,[(n(!0),l(b,null,m(s.report.data.facilities_by_category,(r,a)=>(n(),l("div",{key:a,class:"flex items-center justify-between"},[t("span",he,d(r.category),1),t("div",ge,[t("div",ue,[t("div",{class:"bg-green-900 h-2 rounded-full",style:f({width:`${x(r.count,s.report.data.total_facilities)}%`})},null,4)]),t("span",be,d(r.count),1)])]))),128))])]),s.report.data.facilities_by_department?.length?(n(),l("div",me,[e[16]||(e[16]=t("div",{class:"px-6 py-4 border-b border-green-200 bg-green-50"},[t("h3",{class:"text-lg font-semibold text-green-900"},"By Department")],-1)),t("div",pe,[(n(!0),l(b,null,m(s.report.data.facilities_by_department,(r,a)=>(n(),l("div",{key:a,class:"flex items-center justify-between"},[t("span",xe,d(r.department),1),t("div",fe,[t("div",ye,[t("div",{class:"bg-green-900 h-2 rounded-full",style:f({width:`${x(r.count,s.report.data.total_facilities)}%`})},null,4)]),t("span",we,d(r.count),1)])]))),128))])])):c("",!0)])])):c("",!0),s.report.type==="search"?(n(),l("div",_e,[t("div",ve,[t("div",ke,[e[17]||(e[17]=t("p",{class:"text-sm font-medium text-green-700 mb-2"},"Total Searches",-1)),t("p",$e,d(s.report.data.total_searches?.toLocaleString()||0),1)]),t("div",Se,[e[18]||(e[18]=t("p",{class:"text-sm font-medium text-green-700 mb-2"},"Unique Queries",-1)),t("p",Ce,d(s.report.data.unique_queries?.toLocaleString()||0),1)])]),t("div",Le,[t("div",je,[e[19]||(e[19]=t("div",{class:"px-6 py-4 border-b border-green-200 bg-green-50"},[t("h3",{class:"text-lg font-semibold text-green-900"},"Top 10 Searches")],-1)),t("div",De,[(n(!0),l(b,null,m(s.report.data.top_10_searches,(r,a)=>(n(),l("div",{key:a,class:"flex items-center gap-3"},[t("span",Re,d(a+1),1),t("span",Te,d(r.query),1),t("span",Fe,d(r.search_count),1)]))),128))])]),s.report.data.bottom_10_searches?.length?(n(),l("div",Me,[e[20]||(e[20]=t("div",{class:"px-6 py-4 border-b border-green-200 bg-green-50"},[t("h3",{class:"text-lg font-semibold text-green-900"},"Bottom 10 Searches")],-1)),t("div",qe,[(n(!0),l(b,null,m(s.report.data.bottom_10_searches,(r,a)=>(n(),l("div",{key:a,class:"flex items-center gap-3"},[t("span",Ue,d(r.query),1),t("span",Be,d(r.search_count),1)]))),128))])])):c("",!0)])])):c("",!0)])]),_:1}))}},Oe=A(Pe,[["__scopeId","data-v-62ed955e"]]);export{Oe as default};
